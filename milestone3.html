<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel = "stylesheet" href = "style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Albert+Sans:ital,wght@0,100..900;1,100..900&display=swap" rel="stylesheet">
    <title>Milestone 3: Color Sensing and Border Detection</title>
</head>
<body>
    <h1>Milestone 3: Color Sensing and Border Detection</h1>
    <h2>Color Sensing</h2>
    <div class = "code-snippet-image">
        <img src = "image/prelab-led-color-sensor-circuit.jpg" alt = "Color sensor circuit demonstration with LED from Prelab 4" width = "600">
        <pre>
            <code>
                // Color Sensing
                // TCS3200 Color Sensor
                // External sensor, serial communication, interrupts, timers
                int main(void)
                {
                  // Call initColor function
                  initColor();
                
                  sei(); // Enable interrupt
                
                  Serial.begin(9600); // For debugging, initialize serial communication
                  while(1) 
                  {
                    // Call getColor function
                    getColor(); // This function call enables interrupt
                
                    // Print the "period"
                    Serial.println(period);
                
                    // Turn LED on if period is above certain threshold
                    if (period > 200) {
                      PORTB = 0b00000001; // Turn LED on
                    } else {
                      PORTB = 0b00000000; // Turn LED off
                    }
                    // Add a short delay (less than a second)
                    _delay_ms(500); // Half a second -> monitar display period easier to read
                  }
                
                }
            </code>
        </pre>
    </div>

    <p>
        This is a demonstration of using a TCS3200 Color Sensor with Arduino, from one of my prelab. 
        When a certain color is detected (the output frequency from the color sensor matches the set frequency in the code), the external LED (shown in the circuit diagram image) turns on.
        <br>
        <br>
        Check out the full code for controlling a LED to react to color change in the GitHub repository. 
        <br>
        Check out the GitHub repository for actual robot color sensing code.
    </p>

    <h2>Border Detection</h2>
    <div class = "code-snippet-image">
        <img src = "image/boarder-detection-circuit.png" alt = "QTI Line Detection demonstration" width = "600">
        <pre>
            <code>
                // Border Detection
                // QTI Line Sensor
                int main(void)
                {
                  
                }
            </code>
        </pre>
    </div>

    <p>
        See GitHub Repository for full code.
        <br>
        The QTI Line Sensor...
    </p>
    
    
</body>
</html>